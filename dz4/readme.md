# Учебная виртуальная машина (УВМ)

## Описание

Данный проект реализует ассемблер и интерпретатор для учебной виртуальной машины (УВМ). Система команд УВМ позволяет выполнять простые операции над памятью и реализовывать базовые алгоритмы.

## Структура проекта

- `assembler.py` — ассемблер, преобразующий исходный код в машинный.
- `interpreter.py` — интерпретатор, выполняющий машинный код.
- `tests.py` — набор тестов для проверки работы ассемблера и интерпретатора.
- `README.md` — данная документация.

## Использование

### Ассемблирование программы

```bash
python assembler.py <input_file.asm> <output_file.bin> <log_file.csv>
```

- `<input_file.asm>` — файл с исходным кодом на ассемблере.
- `<output_file.bin>` — файл для сохранения машинного кода.
- `<log_file.csv>` — файл лога ассемблированных инструкций.

### Выполнение программы

```bash
python interpreter.py <binary_file.bin> <memory_dump.csv> <memory_start> <memory_end>
```

- `<binary_file.bin>` — файл с машинным кодом.
- `<memory_dump.csv>` — файл для сохранения дампа памяти.
- `<memory_start>` — начальный адрес диапазона памяти для сохранения.
- `<memory_end>` — конечный адрес диапазона памяти для сохранения.

### Пример

Ассемблирование и выполнение программы `vector_compare.asm`:

```bash
python assembler.py vector_compare.asm vector_compare.bin vector_compare_log.csv
python interpreter.py vector_compare.bin vector_compare_memory.csv 220 224
```

Результаты сравнения будут сохранены в файле `vector_compare_memory.csv` в адресах `220`–`224`.

## Тестирование

Запуск автоматических тестов:

```bash
python tests.py
```

## Описание команд

### LOAD_CONST

Загружает константу в указанный адрес памяти.

```
LOAD_CONST <dest_addr>, <constant>
```

### READ_MEM

Читает значение из одного адреса памяти и записывает в другой.

```
READ_MEM <dest_addr>, <src_addr>
```

### WRITE_MEM

Пишет значение из одного адреса памяти в другой с учетом смещения.

```
WRITE_MEM <base_addr_addr>, <offset>, <src_addr>
```

### BIN_OP_GT

Выполняет бинарную операцию "больше" между двумя значениями и сохраняет результат.

```
BIN_OP_GT <dest_addr>, <offset>, <src_addr2>, <base_addr_addr>
```

## Примечания

- Адреса памяти и константы являются целыми числами.
- Операции выполняются в соответствии со спецификацией команд.